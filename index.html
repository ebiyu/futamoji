<h1>2文字アイコンメーカー</h1>

<form name="js">
文字：<input type="text" name="moji" value="ほげ"><br>
色(RGB指定):# <input type="text" name="colb" value="00aaff"><br>
<input type="button" value="作成" onclick="create()">
</form>

<canvas id="cv1" width="480" height="480"></canvas>
<script>
var cvs = document.getElementById("cv1");
var ctx = cvs.getContext("2d");
cv1.style.display='none';

//canvasにランダムなカラーラインを描く関数
function create()
{
    var col='#'+document.js.colb.value;
    var moji=document.js.moji.value;

    ctx.fillStyle='#ffffff';
    ctx.fillRect(0,0,480,480);

    ctx.strokeStyle = col;
    ctx.fillStyle=col;

    ctx.lineWidth=15;
    ctx.beginPath();
    ctx.arc(240,240,220,0,Math.PI*2,false);
    ctx.stroke();

    ctx.font='200px  "ヒラギノ丸ゴ ProN", "Hiragino Maru Gothic ProN","HG丸ｺﾞｼｯｸM-PRO","HGMaruGothicMPRO"';
    sizes=ctx.measureText(moji)

    ctx.fillText(moji,240-sizes.width/2-10,320);

    var png = cvs.toDataURL();
    document.getElementById("newImg").src = png;
}

</script>

<div><img id="newImg"></div>
